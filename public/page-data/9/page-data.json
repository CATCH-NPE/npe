{"componentChunkName":"component---src-templates-post-jsx","path":"/9/","result":{"data":{"site":{"siteMetadata":{"title":"CATCH NPE"}},"markdownRemark":{"id":"c2d81bbc-3b4c-5c89-b193-1807200e7f30","excerpt":"스레드란? img.png 스레드는 프로세스를 구성하는 실행의 흐름 단위라고 표현합니다. 또한, 하나의 프로세스가 복수적인 스레드를 가질 수 있습니다. 그렇기 때문에 스레드를 이용하면\n하나의 프로세스에서 여러 부분을 동시에 실행할 수 있습니다. 마치 화상 회의를 진행중에 회의 어플리케이션이란 프로세스 속 채팅과 화상통화의 기능이 독립적으로 돌아가는것과\n같이…","html":"<h2 id=\"스레드란\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%EB%A0%88%EB%93%9C%EB%9E%80\" aria-label=\"스레드란 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>스레드란?</h2>\n<hr>\n<p><img src=\"%EC%8A%A4%EB%A0%88%EB%93%9C.png\" alt=\"img.png\"></p>\n<br>\n<p>스레드는 프로세스를 구성하는 실행의 흐름 단위라고 표현합니다.</p>\n<p>또한, 하나의 프로세스가 복수적인 스레드를 가질 수 있습니다. 그렇기 때문에 스레드를 이용하면\n하나의 프로세스에서 여러 부분을 동시에 실행할 수 있습니다.</p>\n<p>마치 화상 회의를 진행중에 회의 어플리케이션이란 프로세스 속 채팅과 화상통화의 기능이 독립적으로 돌아가는것과\n같이 여러 기능을 수행할 수 있습니다.</p>\n<br>\n<h3 id=\"프로세스와-스레드\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C\" aria-label=\"프로세스와 스레드 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>프로세스와 스레드</h3>\n<hr>\n<p>스레드를 이해하기 위해서는 프로세스와 엮어서 설명하고자 합니다.\n전통적인 CPU는 하나의 프로세스만 처리할 수 있었습니다. 메모장, 워드, 게임등 많은 프로세스가 하나의 실행\n흐름을 가지고 한 번의 하나의 부분만 실행되는 프로세스입니다.</p>\n<p>![img.png](단일스레드 프로세스.png)</p>\n<p>이런 프로세스를 단일 스레드 프로세스라고 부릅니다.</p>\n<br>\n<p>하지만, 스레드라는 개념이 도입되면서 하나의 프로세스가 한 번에 여러가지 일을 동시에 처리하는 것이 가능해졌습니다.\n프로세스를 구성하는 명령어를 동시에 처리하는것이 가능해졌습니다.</p>\n<p>![img.png](멀티스레드 프로세스.png)</p>\n<br>\n<p>그림을 통해 스레드를 보게 되면 스레드는 '프로세스를 구성하는 실행의 흐름 단위'라고 표현 가능 할 것입니다.</p>\n<p>왜냐하면, 하나의 프로세스 안에 여러가지 스레드가 있고 각각의 작업 흐름을 가지며 프로세스가 하는 일을 병렬적으로 만들어\n주기 때문입니다.</p>\n<br>\n<br>\n<h2 id=\"스레드-메모리-구조\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%EB%A0%88%EB%93%9C-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%AC%EC%A1%B0\" aria-label=\"스레드 메모리 구조 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>스레드 메모리 구조</h2>\n<hr>\n<p><img src=\"%EB%A9%94%EB%AA%A8%EB%A6%AC%EA%B5%AC%EC%A1%B0.png\" alt=\"img.png\"></p>\n<p>스레드의 메모리 구조를 이해하기 위해서는 이전 프로세서의 구조를 상기해봐야 합니다.</p>\n<p>프로세스는 스택, 힙, 데이터, 코드 영역을 각자 가진다고 합니다.\n스레드는 '프로세스를 구성하는 실행 흐름의 단위'라고 했고, 이 떄문에 스레드는 프로세스의 메모리 구조의 대부분을 공유해서\n사용한다. 그렇기 때문에 여러 스레드의 작업이 하나의 프로세스 안에서 이루어져도 동시작업이 가능한 이유입니다.</p>\n<br>\n<p>그렇다면 어떻게 스레드는 프로세스와 스레드간 데이터를 공유하는 것일까?\n아래 그림을 통해서 보게되면</p>\n<br>\n<p><img src=\"%EC%8A%A4%EB%A0%88%EB%93%9C%EC%9E%90%EC%9B%90%EA%B3%B5%EC%9C%A0.png\" alt=\"img.png\">\n<a href=\"https://gmlwjd9405.github.io/2017/10/01/basic-concepts-of-development-os.html\">사진출처</a></p>\n<br>\n<p>우선 하나의 프로세스안에 코드, 데이터, 힙, 스택 영역이 존재합니다. 그리고 프로세스 내부의 개별적인 스레드가 존재합니다.</p>\n<p>스레드가 레지스터, 프로그램 카운터, 스택을 개별적으로 가지는 핵심 이유는 독립적인 실행 흐름을 보장하기 위해서입니다.</p>\n<p>프로그램 카운터는 각 스레드가 서로 다른 코드 위치에서 실행될 수 있도록 현재 실행 지점을 개별 추적하고,</p>\n<p>레지스터는 각 스레드의 작업 데이터를 독립적으로 저장합니다.\n이를 통해 CPU가 스레드 간 전환할 때 현재 상태를 저장하고 복원하여 중단된 지점에서 정확히 재개할 수 있습니다.\n스택 영역을 따로 가지는 이유는 각 스레드가 독립적인 함수 호출 흐름을 가져야 하기 때문입니다.</p>\n<p>스택은 함수 호출 시 지역 변수, 매개변수, 리턴 주소를 저장하는데, 만약 스레드들이 스택을 공유한다면 한 스레드의\n함수 호출이 다른 스레드의 함수 실행에 영향을 주어 실행 흐름이 꼬이게 됩니다. 따라서 각 스레드는 독립적인 스택을 가져 서로 다른 함수를 안전하게 호출하고 실행할 수 있습니다.\n결과적으로 이런 구조를 통해 스레드들은 힙과 데이터 영역은 공유하면서도 각자 독립적인 실행 흐름을 유지할 수 있어\n, 하나의 프로세스 내에서 여러 작업을 동시에 효율적으로 처리할 수 있게 됩니다.</p>\n<br>\n<br>\n<h2 id=\"TCB란\" style=\"position:relative;\"><a href=\"#TCB%EB%9E%80\" aria-label=\"TCB란 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>TCB란</h2>\n<hr>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/b009f54f495c2708b55ef5e9c2924fbf/78d47/TCB.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 55.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVR42nWS6W7aQBSF/f4vUik/UokmjbJACQmEJexbMCYsNrbBLIYAAWP763hAaaWqI13PeO52zrmjBIHPYr6g997HNC3GpsloNEIXZtk2hmEwHA4wx2N5lveWxf+WEn3CMJQ/u/2BQq1L35jiByFtTafYeGfvHVltdtI3GDuccs550qItiG5RzrXomSti6R6x+xeqHR1P+B8LTa5+Ffj0Quz5hsvbNC3N4G8Q/yD0fZ+D5/M9paJP15iOy3qzl053vcOYuvIchFHRNfP1XoI6HAMGPRXbGPGx3aG166xcF6XUGXOXaXCXrlNoDpm6O5F86hbR3nz6zBwHVwQHorkpNHaWH2z2AYXHW9rlHPZ0wfP1BY5loGRrA0HlhYvrJ5KvXSbLLUc//KK12nrk4te0ynnG1oynq28sndNQFu6Kj00UHzCbLwVTD6XStfiZfJX6ZOtDIf6e7f74pUlEdWIazGcO+8MBTVXJVAdsPz2Wto6hNYW1WM0mMlZpvDukih3i2SZl1caVBX0ibaMCkV4Rdf+sQ5QUL+v8SKtUX5KUUrcUkze0KwUZq1S1iaDaIZF/o9ix2exEQQ/eGg0amQemQoJyOkG3WcGaLsk9xCRlMRO0ao7S4w31zL1A2ZbaK/mWTixR5PIuS6LQFUM4SCTGoE+3Jp7M4YjaKKP3e1Kvev6Z1XIhEWvVPLVMnFr6gVG3daJcETTfRnNagxltsW92hy9q59nIzkH4R9NoeWIAplpBKz2hFVNMBipBEPIbxqww+OhgS2QAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img.png' title='' src='/static/b009f54f495c2708b55ef5e9c2924fbf/ca1dc/TCB.png' srcset='/static/b009f54f495c2708b55ef5e9c2924fbf/e7570/TCB.png 170w,\n/static/b009f54f495c2708b55ef5e9c2924fbf/f46e7/TCB.png 340w,\n/static/b009f54f495c2708b55ef5e9c2924fbf/ca1dc/TCB.png 680w,\n/static/b009f54f495c2708b55ef5e9c2924fbf/78d47/TCB.png 800w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img.png</figcaption>\n  </figure></p>\n<p>스레드 제어 블록은 운영체제가 각 스레드를 관리하기 위해 유지하는 데이터 구조체입니다.\n프로세스 제어 블록(PCB)과 유사하지만 스레드 수준에서 필요한 정보들을 담고 있습니다.\n링크드 리스트 형태로 구현되어 PCB안에 해당 스레드의 TCB를 내포하고 있는 형태로 저장됩니다.</p>\n<br>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/3db6467cd8ebad1a62d6268842a5fb03/bbbf7/TCB2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 55.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVR42o2TiU7DMBBE+f8PAVoqBAIhIX4AigTiPlTKIUiTlKS5D9vJMGsIokARK21sOfHz7I6zBIYxBlVVIUkSO2ZZhjRN7ZjnOdq2xW+hTItaN3NrS/Ko6xo5N3uui5rAaDazc3cyQRRFKIoCYRhCKTW3WZsGWal+AisCDVWUHN3p1GZEtaIrptKyLK1aqcTGh2LTtATqX4AsKzo7hXs4xMvBPpzhARzOw+MjvD484LNgrdFSbRcLgWUSw9nexM3qMm57K+/ZX8HjoAf/4hw5lQdBgJTlt2xHdX6KZhZC9KaFgia4+VBtgQXLC/Z28bxF6KCP67U+xhvrmO5s4fXq0m6U/mn2t+W3xveoVrFNwEtQ4OQ+ZLvMl5LZo8LzkDkOpuM7eKMRZk+PqLgW0JzudDSNkOdKjrKaKvVPUxQ/rtgjT0zxfSRigpgiimhGw/eS/zOFpShCC5rjU9WESuXqaKpJ4hgx0/aQjn+NP4FyFzUVymgPIExSYJ/KvsVCoIA6aAfs5nL/Fv4p/EsqZeaAb9hFUZE0swmpAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img.png' title='' src='/static/3db6467cd8ebad1a62d6268842a5fb03/ca1dc/TCB2.png' srcset='/static/3db6467cd8ebad1a62d6268842a5fb03/e7570/TCB2.png 170w,\n/static/3db6467cd8ebad1a62d6268842a5fb03/f46e7/TCB2.png 340w,\n/static/3db6467cd8ebad1a62d6268842a5fb03/ca1dc/TCB2.png 680w,\n/static/3db6467cd8ebad1a62d6268842a5fb03/02d09/TCB2.png 1020w,\n/static/3db6467cd8ebad1a62d6268842a5fb03/bbbf7/TCB2.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img.png</figcaption>\n  </figure></p>\n<p><img src=\"TCB%ED%99%95%EC%9E%A5.png\" alt=\"img.png\"></p>\n<br>\n<br>\n<p>TCB는 사진과 같은 형태로 저장되며, 아래와 같은 정보를 가진다.</p>\n<table>\n<thead>\n<tr>\n<th>정보</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>스레드 식별자</td>\n<td>각 스레드를 식별하는 고유한 식별자</td>\n</tr>\n<tr>\n<td>스레드 상태</td>\n<td>실행 준비 대기 등 스레드의 현재 상태</td>\n</tr>\n<tr>\n<td>프로그램 카운터</td>\n<td>스레드가 다음에 실행할 명령어의 주소</td>\n</tr>\n<tr>\n<td>레지스터</td>\n<td>스레드가 현재 사용하고 있는 CPU 레지스터의 값을 저장</td>\n</tr>\n<tr>\n<td>스레드 우선순위</td>\n<td>스케줄링 결정에 사용되는 스레드의 우선순위</td>\n</tr>\n<tr>\n<td>스레드 스택 포인터</td>\n<td>스택 내에서 현재 작업의 위치를 가리키는 레지스터</td>\n</tr>\n<tr>\n<td>스레드 문맥 정보</td>\n<td>문맥 교환 시 저장되고 복원되어야 할 정보</td>\n</tr>\n</tbody>\n</table>","frontmatter":{"title":"9. 쓰레드의 개념, 메모리 공유 구조 및 TCB","date":"September 12, 2025","update":"September 12, 2025","tags":["운영체제"],"series":"프로세스와 쓰레드에 대해서 알아보기"},"fields":{"slug":"/9/","readingTime":{"minutes":7.545}}},"seriesList":{"edges":[{"node":{"id":"260ee945-dda8-544a-907f-08886cb18912","fields":{"slug":"/7/"},"frontmatter":{"title":"7. 프로세스와 PCB 그리고 메모리 구조에 대해서 알아보기"}}},{"node":{"id":"b775e483-4005-578f-8b56-bc4cf3f18a77","fields":{"slug":"/8/"},"frontmatter":{"title":"8. 문맥교환 그리고 프로세스 상태 변화, 프로세스 계층과 생성 방식을 알아보기"}}},{"node":{"id":"c2d81bbc-3b4c-5c89-b193-1807200e7f30","fields":{"slug":"/9/"},"frontmatter":{"title":"9. 쓰레드의 개념, 메모리 공유 구조 및 TCB"}}},{"node":{"id":"2e4f9ff2-e2bf-57e3-aaad-7eb2f7fd16b2","fields":{"slug":"/10/"},"frontmatter":{"title":"10. 멀티 프로세스와 멀티 쓰레드의 차이 및 장단점"}}},{"node":{"id":"6b2d0bc1-f501-5533-becc-2e0d0340e9e6","fields":{"slug":"/11/"},"frontmatter":{"title":"11. 멀티 쓰레드 프로그래밍의 동시성 이슈와 Thread-Safe 설계 방법"}}}]},"previous":{"fields":{"slug":"/8/"},"frontmatter":{"title":"8. 문맥교환 그리고 프로세스 상태 변화, 프로세스 계층과 생성 방식을 알아보기"}},"next":{"fields":{"slug":"/10/"},"frontmatter":{"title":"10. 멀티 프로세스와 멀티 쓰레드의 차이 및 장단점"}}},"pageContext":{"id":"c2d81bbc-3b4c-5c89-b193-1807200e7f30","series":"프로세스와 쓰레드에 대해서 알아보기","previousPostId":"b775e483-4005-578f-8b56-bc4cf3f18a77","nextPostId":"2e4f9ff2-e2bf-57e3-aaad-7eb2f7fd16b2"}},"staticQueryHashes":[],"slicesMap":{}}